{"ast":null,"code":"import _slicedToArray from\"/home/ubuntu2004/Projets/marvel-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from\"react\";import{Link}from\"react-router-dom\";import{FirebaseContext}from\"../Firebase\";var ForgetPassword=function ForgetPassword(props){var firebase=useContext(FirebaseContext);var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),success=_useState4[0],setSuccess=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var handleSubmit=function handleSubmit(e){e.preventDefault();firebase.passwordReset(email).then(function(){setError(null);setSuccess(\"Consultez votre email \".concat(email,\" pour changer le mot de passe.\"));setEmail(\"\");setTimeout(function(){props.history.push(\"/login\");},5000);}).catch(function(error){setError(error);setEmail(\"\");});};var disabled=email===\"\";return/*#__PURE__*/React.createElement(\"div\",{className:\"signUpLoginBox\"},/*#__PURE__*/React.createElement(\"div\",{className:\"slContainer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"formBoxLeftForget\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"formBoxRight\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"formContent\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},success&&/*#__PURE__*/React.createElement(\"span\",{style:{border:\"1px solid green\",background:\"green\",color:\"#fffff\"}},success),error&&/*#__PURE__*/React.createElement(\"span\",{style:{border:\"1px solid green\",background:\"pink\",color:\"#fffff\"}},error.message),/*#__PURE__*/React.createElement(\"h2\",null,\"Mot de passe oubli\\xE9 ?\"),/*#__PURE__*/React.createElement(\"div\",{className:\"inputBox\"},/*#__PURE__*/React.createElement(\"input\",{onChange:function onChange(e){return setEmail(e.target.value);},value:email,type:\"email\",required:true}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email\")),/*#__PURE__*/React.createElement(\"button\",{disabled:disabled},\"r\\xE9cup\\xE9rer\")),/*#__PURE__*/React.createElement(\"div\",{className:\"linkContainer\"},/*#__PURE__*/React.createElement(Link,{className:\"simpleLink\",to:\"/login\"},\"Deja inscrit? connectez vous !!\")))));};export default ForgetPassword;","map":{"version":3,"sources":["/home/ubuntu2004/Projets/marvel-test/src/components/ForgetPassword /index.js"],"names":["React","useState","useContext","Link","FirebaseContext","ForgetPassword","props","firebase","email","setEmail","success","setSuccess","error","setError","handleSubmit","e","preventDefault","passwordReset","then","setTimeout","history","push","catch","disabled","border","background","color","message","target","value"],"mappings":"2JAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,KAA4C,OAA5C,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,eAAT,KAAgC,aAAhC,CAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,KAAD,CAAW,CAChC,GAAMC,CAAAA,QAAQ,CAAGL,UAAU,CAACE,eAAD,CAA3B,CADgC,cAGNH,QAAQ,CAAC,EAAD,CAHF,wCAGzBO,KAHyB,eAGlBC,QAHkB,8BAIFR,QAAQ,CAAC,IAAD,CAJN,yCAIzBS,OAJyB,eAIhBC,UAJgB,8BAKNV,QAAQ,CAAC,IAAD,CALF,yCAKzBW,KALyB,eAKlBC,QALkB,eAOhC,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1BA,CAAC,CAACC,cAAF,GACAT,QAAQ,CACLU,aADH,CACiBT,KADjB,EAEGU,IAFH,CAEQ,UAAM,CACVL,QAAQ,CAAC,IAAD,CAAR,CACAF,UAAU,iCACiBH,KADjB,mCAAV,CAGAC,QAAQ,CAAC,EAAD,CAAR,CACAU,UAAU,CAAC,UAAM,CACfb,KAAK,CAACc,OAAN,CAAcC,IAAd,CAAmB,QAAnB,EACD,CAFS,CAEP,IAFO,CAAV,CAGD,CAXH,EAYGC,KAZH,CAYS,SAACV,KAAD,CAAW,CAChBC,QAAQ,CAACD,KAAD,CAAR,CACAH,QAAQ,CAAC,EAAD,CAAR,CACD,CAfH,EAgBD,CAlBD,CAoBA,GAAMc,CAAAA,QAAQ,CAAGf,KAAK,GAAK,EAA3B,CACA,mBACE,2BAAK,SAAS,CAAC,gBAAf,eACE,2BAAK,SAAS,CAAC,aAAf,eACE,2BAAK,SAAS,CAAC,mBAAf,EADF,cAEE,2BAAK,SAAS,CAAC,cAAf,EAFF,cAGE,2BAAK,SAAS,CAAC,aAAf,eACE,4BAAM,QAAQ,CAAEM,YAAhB,EACGJ,OAAO,eACN,4BACE,KAAK,CAAE,CACLc,MAAM,CAAE,iBADH,CAELC,UAAU,CAAE,OAFP,CAGLC,KAAK,CAAE,QAHF,CADT,EAOGhB,OAPH,CAFJ,CAYGE,KAAK,eACJ,4BACE,KAAK,CAAE,CACLY,MAAM,CAAE,iBADH,CAELC,UAAU,CAAE,MAFP,CAGLC,KAAK,CAAE,QAHF,CADT,EAOGd,KAAK,CAACe,OAPT,CAbJ,cAwBE,yDAxBF,cAyBE,2BAAK,SAAS,CAAC,UAAf,eACE,6BACE,QAAQ,CAAE,kBAACZ,CAAD,QAAON,CAAAA,QAAQ,CAACM,CAAC,CAACa,MAAF,CAASC,KAAV,CAAf,EADZ,CAEE,KAAK,CAAErB,KAFT,CAGE,IAAI,CAAC,OAHP,CAIE,QAAQ,KAJV,EADF,cAOE,6BAAO,OAAO,CAAC,OAAf,UAPF,CAzBF,cAkCE,8BAAQ,QAAQ,CAAEe,QAAlB,oBAlCF,CADF,cAqCE,2BAAK,SAAS,CAAC,eAAf,eACE,oBAAC,IAAD,EAAM,SAAS,CAAC,YAAhB,CAA6B,EAAE,CAAC,QAAhC,oCADF,CArCF,CAHF,CADF,CADF,CAmDD,CA/ED,CAiFA,cAAelB,CAAAA,cAAf","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FirebaseContext } from \"../Firebase\";\n\nconst ForgetPassword = (props) => {\n  const firebase = useContext(FirebaseContext);\n\n  const [email, setEmail] = useState(\"\");\n  const [success, setSuccess] = useState(null);\n  const [error, setError] = useState(null);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    firebase\n      .passwordReset(email)\n      .then(() => {\n        setError(null);\n        setSuccess(\n          `Consultez votre email ${email} pour changer le mot de passe.`\n        );\n        setEmail(\"\");\n        setTimeout(() => {\n          props.history.push(\"/login\");\n        }, 5000);\n      })\n      .catch((error) => {\n        setError(error);\n        setEmail(\"\");\n      });\n  };\n\n  const disabled = email === \"\";\n  return (\n    <div className=\"signUpLoginBox\">\n      <div className=\"slContainer\">\n        <div className=\"formBoxLeftForget\"></div>\n        <div className=\"formBoxRight\"></div>\n        <div className=\"formContent\">\n          <form onSubmit={handleSubmit}>\n            {success && (\n              <span\n                style={{\n                  border: \"1px solid green\",\n                  background: \"green\",\n                  color: \"#fffff\",\n                }}\n              >\n                {success}\n              </span>\n            )}\n            {error && (\n              <span\n                style={{\n                  border: \"1px solid green\",\n                  background: \"pink\",\n                  color: \"#fffff\",\n                }}\n              >\n                {error.message}\n              </span>\n            )}\n\n            <h2>Mot de passe oublié ?</h2>\n            <div className=\"inputBox\">\n              <input\n                onChange={(e) => setEmail(e.target.value)}\n                value={email}\n                type=\"email\"\n                required\n              />\n              <label htmlFor=\"email\">Email</label>\n            </div>\n            <button disabled={disabled}>récupérer</button>\n          </form>\n          <div className=\"linkContainer\">\n            <Link className=\"simpleLink\" to=\"/login\">\n              Deja inscrit? connectez vous !!\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ForgetPassword;\n"]},"metadata":{},"sourceType":"module"}