{"ast":null,"code":"import _slicedToArray from\"/home/ubuntu2004/Projets/marvel-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,Fragment,useContext,useEffect}from\"react\";import{FirebaseContext}from\"../Firebase\";import Logout from\"../Logout/index\";import Quiz from\"../Quiz\";import Loader from\"../Loader\";var Welcome=function Welcome(props){var firebase=useContext(FirebaseContext);var _useState=useState(null),_useState2=_slicedToArray(_useState,2),userSession=_useState2[0],setuserSession=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),userData=_useState4[0],setUserData=_useState4[1];useEffect(function(){var listener=firebase.auth.onAuthStateChanged(function(user){user?setuserSession(user):props.history.push(\"/\");});if(!!userSession){firebase.user(userSession.uid).get().then(function(doc){if(doc&&doc.exists){var myData=doc.data();setUserData(myData);}}).catch(function(error){console.log(error);});}return function(){listener();};},[userSession]);return userSession===null?/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Loader,{loadingMsg:\"Loading ...\",styling:{textAlign:\"center\",color:\"#FFFFFF\"}})):/*#__PURE__*/React.createElement(\"div\",{className:\"quiz-bg\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(Logout,null),/*#__PURE__*/React.createElement(Quiz,{userData:userData})));};export default Welcome;","map":{"version":3,"sources":["/home/ubuntu2004/Projets/marvel-test/src/components/Welcome/index.js"],"names":["React","useState","Fragment","useContext","useEffect","FirebaseContext","Logout","Quiz","Loader","Welcome","props","firebase","userSession","setuserSession","userData","setUserData","listener","auth","onAuthStateChanged","user","history","push","uid","get","then","doc","exists","myData","data","catch","error","console","log","textAlign","color"],"mappings":"2JAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,QAA1B,CAAoCC,UAApC,CAAgDC,SAAhD,KAAiE,OAAjE,CACA,OAASC,eAAT,KAAgC,aAAhC,CACA,MAAOC,CAAAA,MAAP,KAAmB,iBAAnB,CACA,MAAOC,CAAAA,IAAP,KAAiB,SAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,WAAnB,CAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAW,CACzB,GAAMC,CAAAA,QAAQ,CAAGR,UAAU,CAACE,eAAD,CAA3B,CADyB,cAGaJ,QAAQ,CAAC,IAAD,CAHrB,wCAGlBW,WAHkB,eAGLC,cAHK,8BAIOZ,QAAQ,CAAC,EAAD,CAJf,yCAIlBa,QAJkB,eAIRC,WAJQ,eAMzBX,SAAS,CAAC,UAAM,CACd,GAAIY,CAAAA,QAAQ,CAAGL,QAAQ,CAACM,IAAT,CAAcC,kBAAd,CAAiC,SAACC,IAAD,CAAU,CACxDA,IAAI,CAAGN,cAAc,CAACM,IAAD,CAAjB,CAA0BT,KAAK,CAACU,OAAN,CAAcC,IAAd,CAAmB,GAAnB,CAA9B,CACD,CAFc,CAAf,CAIA,GAAI,CAAC,CAACT,WAAN,CAAmB,CACjBD,QAAQ,CACLQ,IADH,CACQP,WAAW,CAACU,GADpB,EAEGC,GAFH,GAGGC,IAHH,CAGQ,SAACC,GAAD,CAAS,CACb,GAAIA,GAAG,EAAIA,GAAG,CAACC,MAAf,CAAuB,CACrB,GAAMC,CAAAA,MAAM,CAAGF,GAAG,CAACG,IAAJ,EAAf,CACAb,WAAW,CAACY,MAAD,CAAX,CACD,CACF,CARH,EASGE,KATH,CASS,SAACC,KAAD,CAAW,CAChBC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CAXH,EAYD,CAED,MAAO,WAAM,CACXd,QAAQ,GACT,CAFD,CAGD,CAvBQ,CAuBN,CAACJ,WAAD,CAvBM,CAAT,CAwBA,MAAOA,CAAAA,WAAW,GAAK,IAAhB,cACL,oBAAC,QAAD,mBACE,oBAAC,MAAD,EACE,UAAU,CAAE,aADd,CAEE,OAAO,CAAE,CAAEqB,SAAS,CAAE,QAAb,CAAuBC,KAAK,CAAE,SAA9B,CAFX,EADF,CADK,cAQL,2BAAK,SAAS,CAAC,SAAf,eACE,2BAAK,SAAS,CAAC,WAAf,eACE,oBAAC,MAAD,MADF,cAEE,oBAAC,IAAD,EAAM,QAAQ,CAAEpB,QAAhB,EAFF,CADF,CARF,CAeD,CA7CD,CA+CA,cAAeL,CAAAA,OAAf","sourcesContent":["import React, { useState, Fragment, useContext, useEffect } from \"react\";\nimport { FirebaseContext } from \"../Firebase\";\nimport Logout from \"../Logout/index\";\nimport Quiz from \"../Quiz\";\nimport Loader from \"../Loader\";\n\nconst Welcome = (props) => {\n  const firebase = useContext(FirebaseContext);\n\n  const [userSession, setuserSession] = useState(null);\n  const [userData, setUserData] = useState({});\n\n  useEffect(() => {\n    let listener = firebase.auth.onAuthStateChanged((user) => {\n      user ? setuserSession(user) : props.history.push(\"/\");\n    });\n\n    if (!!userSession) {\n      firebase\n        .user(userSession.uid)\n        .get()\n        .then((doc) => {\n          if (doc && doc.exists) {\n            const myData = doc.data();\n            setUserData(myData);\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    }\n\n    return () => {\n      listener();\n    };\n  }, [userSession]);\n  return userSession === null ? (\n    <Fragment>\n      <Loader\n        loadingMsg={\"Loading ...\"}\n        styling={{ textAlign: \"center\", color: \"#FFFFFF\" }}\n      />\n    </Fragment>\n  ) : (\n    <div className=\"quiz-bg\">\n      <div className=\"container\">\n        <Logout />\n        <Quiz userData={userData} />\n      </div>\n    </div>\n  );\n};\n\nexport default Welcome;\n"]},"metadata":{},"sourceType":"module"}